<!DOCTYPE html>
<html lang="en">
<head>
    <title>Daikon Example</title>
    <script src="https://cdn.jsdelivr.net/npm/daikon@1.2.45/release/current/daikon-min.min.js"></script>
    
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            loadDICOMFile('image.0177.dcm');
        });

        function loadDICOMFile(filename) {
            fetch(filename)
            .then(response => response.arrayBuffer())
            .then(arrayBuffer => {
                const data = new DataView(arrayBuffer);
                const image = daikon.Series.parseImage(data);

                if (image) {
                    const pixelData = image.getInterpretedData();
                    console.log("Full image pixel data: ", pixelData);

                    console.log("Specific pixel data array fetch: ", pixelData[7000])

                    console.log("2D Array columns: ", image.getCols())
                    console.log("2D Array rows: ", image.getRows())
                    console.log("Raw Data from the 2d image (Array Buffer): ", image.getRawData());

                    console.log('Full Volume (2D): %c not yet working', 'color:red'); 
                }
            })
        }
    </script>
</head>
<body>
</body>
</html>
