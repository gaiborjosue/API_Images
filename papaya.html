<!DOCTYPE html>
<html>
  <head>
    <title>Papaya Viewer</title>
    <script
      type="text/javascript"
      src="https://cdn.rawgit.com/rii-mango/Papaya/master/release/current/standard/papaya.js"
    ></script>
    <script type="text/javascript">
      var params = [];
      params["images"] = ["https://haehn.github.io/VIZBI/daniel.nii"];
    </script>
  </head>
  <body>
    <div class="papaya" data-params="params"></div>

    <script type="text/javascript">
      setTimeout(() => {
        papaya.Container.startPapaya();

        console.log(
          "Volume Dimensions: ",
          papayaContainers[0].viewer.screenVolumes[0].volume.header
            .imageDimensions.xDim,
          papayaContainers[0].viewer.screenVolumes[0].volume.header
            .imageDimensions.yDim,
          papayaContainers[0].viewer.screenVolumes[0].volume.header
            .imageDimensions.zDim
        );

        console.log(
          "Full Volume (flattened): ",
          papayaContainers[0].viewer.screenVolumes[0].volume.imageData.data
        );

        console.log("Full Volume (3D): %c not yet working", "color:red");

        console.log(
          "Full Volume (3D): ",
          papayaContainers[0].viewer.screenVolumes[0].volume.getVoxelAtIndex(
            1000,
            1000,
            1000
          )
        );

        // Volume pixel access
        console.log(
          "Volume pixel access: ",
          papayaContainers[0].viewer.screenVolumes[0].volume.imageData
            .data[1000]
        );

        console.log("Subvolume access: %c not yet working", "color:red");
      }, 2000);
    </script>
  </body>
</html>
